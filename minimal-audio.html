<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>
Minimal Audio
        </title>
        <style type="text/css">
            @font-face {
                    font-family: 'ocramedium';
                    src: url('ocr-a.eot');
                    src: url('ocr-a.eot?#iefix') format('embedded-opentype'),
                         url('ocr-a.woff') format('woff'),
                         url('ocr-a.ttf') format('truetype'),
                         url('ocr-a.svg#ocramedium') format('svg');
                    font-weight: normal;
                    font-style: normal;
            }
            body {
                margin: 1em auto;
                padding-left: .5em;
                padding-right: 1.5em;
                max-width: 640px;
                font-size: 135%;
                line-height: 1.5em;
                background: #222;
                color: #CCC;
                font-family: ocramedium, ocraextended, monospace;
                background-image: url("/bg.png");
                background-repeat: repeat;
            }
            article {
                text-align: justify;
            }
            blockquote {
                font-size: 0.9em;
                font-style: oblique;
            }
            .caption {
                font-size: 0.7em;
                font-style: italic;
            }
            img {
                width: 100%;
                height: auto;
                max-width: 640px;
            }
            @media only screen and (max-width: 400px) {
                body {font-size: 100%;}
            }
            a {
                color: orange;
                text-decoration: none;
                border-bottom: 1px solid;
            }
            sub>em>a { border-bottom: none; }
            h1 { line-height: 1em;}
            form {border: none}
            input { font-family: ocramedium, ocraextended, monospace; border: none; }
            .small { font-size: 65%;}
            pre {
                overflow-x: scroll; 
                background: #444;
                color: #FFF;
                text-align: left;
            }
            .ocaml .fl {
                color: yellow;
            }
            .ocaml .kw {
                color: #ffb380;
            }
            .ocaml .co {
                color: #ccc;
            }
        </style>
        <link rel="alternate" type="application/rss+xml" title="Rudenoise's Feed" href="http://rudenoise.uk/feed.rss">
        <link rel="alternate" type="application/rss+xml" title="Rudenoise's OCaml Feed" href="http://rudenoise.uk/ocaml.rss">
        <meta name="viewport" content="width=device-width,initial-scale=1">

    </head>
    <body>
        <article>
            <header>
                <h1>
Minimal Audio
                </h1>
                <p class="small">Published:
                    <time>
2016-10-22
                    </time>
                </p>
            </header>
<p>Since writing a little about <em>Minimal Computing</em><sub>[<em><a href="#ref1">1</a></em>]</sub> (and being included on the community site<sub>[<em><a href="#ref2">2</a></em>]</sub>), the week has been spent putting some of these principles into practice.</p>
<p>My first real interest in computers stems from making <em>Drum and Bass</em> as a teenager. While I've retained an interest I'd never tried programming any audio related software. While exploring <em>OpenBSD</em> I discovered how simply the OS implements its audio functionality and (unlike others) gives it kernel-space priority.</p>
<p>It seemed like a good place to start doing some audio programming and learn things from the ground up. The simplest way to get a noise was to pipe <em>/dev/random</em> to <em>/dev/audio</em>.</p>
<pre class="ksh"><code># play white noise
cat &gt; /dev/audio &lt; /dev/random &amp;
# stop
kill %1</code></pre>
<p><em>/dev/random</em> is a stream of random bytes, <em>/dev/audio</em> is a &quot;file&quot; that represents the sound-interface with the OS. That was cool but generating a musical sound would be better. The simplest way to do this would be to send a stream of bytes to <em>/dev/audio</em>. A &quot;square wave&quot; would be the simplest, a period of bytes at one number/level, followed by another stream at a different level.</p>
<p>I'd been learning <em>Linux X86 Assembly</em><sub>[<em><a href="#ref3">3</a></em>]</sub> so the most <em>minimal</em> program I could build a square-wave with could be written in assembly. The only problem being that the program was specific to Linux. To be enable working between Linux and OpenBSD (and almost any other OS/architecture) I decided to satisfy another long-standing curiosity. I'd build some wave generators in the <em>C</em> programming-language<sub>[<em><a href="#ref4">4</a></em>]</sub>.</p>
<p>I bought two books: <em>The C Programming Language</em><sub>[<em><a href="#ref5">5</a></em>]</sub> which is a &quot;classic&quot; but also a little dry and based on an old standard (ANSI/c89, as in 1989); and <em>Learn C and Build Your Own Lisp</em><sub>[<em><a href="#ref6">6</a></em>]</sub>, witch is based on C99 (the same as OpenBSD) and is really well written.</p>
<p>Audio... <sub>[<em><a href="#ref7">7</a></em>]</sub> <sub>[<em><a href="#ref8">8</a></em>]</sub></p>
<p>Cool audio projects... <sub>[<em><a href="#ref9">9</a></em>]</sub> <sub>[<em><a href="#ref10">10</a></em>]</sub> <sub>[<em><a href="#ref11">11</a></em>]</sub></p>
<p>As simple and low as I can make it: chip-tunes... <sub>[<em><a href="#ref12">12</a></em>]</sub></p>
<p>Lib musl-c... <sub>[<em><a href="#ref13">13</a></em>]</sub></p>
<p>Wave-forms (square, saw, triangle, sine)...</p>
<p>Results... <img src="./img/square.gif" alt="Square Wave" /> <img src="./img/saw.gif" alt="Saw Wave" /> <img src="./img/triangle.gif" alt="Triangle Wave" /></p>
<p>Sine and trigonometry... <sub>[<em><a href="#ref14">14</a></em>]</sub> <sub>[<em><a href="#ref15">15</a></em>]</sub></p>
<p>Debugging with ears, then eyes... <sub>[<em><a href="#ref16">16</a></em>]</sub></p>
<p>Done. <img src="./img/sine.gif" alt="Sine Wave" /></p>
<ol style="list-style-type: decimal">
<li><a id="ref1"></a> <a href="http://rudenoise.uk/md-mc-notes.html">Minimal Definitions, Minimal Computing - Notes</a></li>
<li><a id="ref2"></a> <a href="http://go-dh.github.io/mincomp/thoughts/">Minimal Computing: Thought Pieces</a></li>
<li><a id="ref3"></a> <a href="https://github.com/rudenoise/x86AssemblyWithLinux">x86 Assembly With Linux (Exercises)</a></li>
<li><a id="ref4"></a> <a href="https://github.com/rudenoise/minimalSound">Minimal Sound</a></li>
<li><a id="ref5"></a> <a href="https://en.wikipedia.org/wiki/The_C_Programming_Language">The C Programming Language</a></li>
<li><a id="ref6"></a> <a href="http://www.buildyourownlisp.com/">Learn C - Build Your Own Lisp</a></li>
<li><a id="ref7"></a> <a href="https://en.wikipedia.org/wiki/Waveform">Waveform</a></li>
<li><a id="ref8"></a> <a href="https://pinboard.in/u:rudenoise/t:audio/">Rudenoise's Audio Links</a></li>
<li><a id="ref9"></a> <a href="http://www.audiosynth.com/">SuperCollider</a></li>
<li><a id="ref10"></a> <a href="http://paulbatchelor.github.io/blog/">Paul Batchelor's Blog</a></li>
<li><a id="ref11"></a> <a href="https://paulbatchelor.github.io/proj/sporth">Sporth</a></li>
<li><a id="ref12"></a> <a href="https://en.wikipedia.org/wiki/Chiptune">Chiptune</a></li>
<li><a id="ref13"></a> <a href="https://www.musl-libc.org">musl libc</a></li>
<li><a id="ref14"></a> <a href="https://en.wikipedia.org/wiki/Sine">sine</a></li>
<li><a id="ref15"></a> <a href="https://www.khanacademy.org/math/trigonometry/trigonometry-right-triangles/intro-to-the-trig-ratios/v/basic-trigonometry-ii">Kahn Academy Trigonometry</a></li>
<li><a id="ref16"></a> <a href="http://gnuplot.sourceforge.net/">gnuplot</a></li>
</ol>
            <footer>
                <p class="small">If you want to be informed when more of this stuff is written you can <a href="/subscribe.html">subscribe</a> or why not look at <a href="/">Rudenoise's home page</a>?</p>
            </footer>            
        </article>
    </body>
</html>
